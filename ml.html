<!-- Add 'hide-on-enter-ar' to elements you want to vanish when AR starts -->
<a-scene 
  webxr="requiredFeatures: hit-test, local-floor;"
  ar-hit-test="target: #reticle; type: footprint;"
  renderer="colorManagement: true; antialias: true; alpha: true;">

  <a-assets>
    <a-asset-item id="campingModel" src="Camping.glb"></a-asset-item>
  </a-assets>

  <!-- This sky and grid will help you see that the scene is working on desktop -->
  <a-sky color="#ECECEC" hide-on-enter-ar></a-sky>
  <a-grid hide-on-enter-ar></a-grid>

  <a-entity light="type: ambient; intensity: 1.5;"></a-entity>
  <a-entity light="type: directional; position: 1 2 1; intensity: 1.2;"></a-entity>

  <!-- Reticle for AR Floor detection -->
  <a-entity id="reticle" visible="false">
    <a-ring rotation="-90 0 0" radius-inner="0.08" radius-outer="0.12" color="#00FF00"></a-ring>
  </a-entity>

  <!-- The Model -->
  <a-entity id="model-container" visible="false">
    <a-gltf-model src="#campingModel" scale="0.3 0.3 0.3"></a-gltf-model>
  </a-entity>

  <a-entity camera position="0 1.6 0"></a-entity>
</a-scene>

<script>
  // Script to hide the sky/grid when entering AR
  AFRAME.registerComponent('hide-on-enter-ar', {
    init: function () {
      this.el.sceneEl.addEventListener('enter-vr', () => {
        if (this.el.sceneEl.is('ar-mode')) {
          this.el.setAttribute('visible', false);
        }
      });
      this.el.sceneEl.addEventListener('exit-vr', () => {
        this.el.setAttribute('visible', true);
      });
    }
  });

  const scene = document.querySelector('a-scene');
  const reticle = document.getElementById('reticle');
  const modelContainer = document.getElementById('model-container');

  scene.addEventListener('click', function () {
    if (reticle.getAttribute('visible') === true) {
      const pos = reticle.getAttribute('position');
      modelContainer.setAttribute('position', pos);
      modelContainer.setAttribute('visible', 'true');
    }
  });
</script>
